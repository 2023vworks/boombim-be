#!/bin/sh

# ì¸ì ê°œìˆ˜ ì²´í¬
check_argument() {
    if [ "$#" -eq 0 ]; then 
        echo "âœ… 1ê°œì˜ ì¸ìê°€ í•„ìš”í•©ë‹ˆë‹¤."
        echo "ğŸ’¡ --help ë˜ëŠ” -h ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë„ì›€ë§ì„ í™•ì¸í•˜ì„¸ìš”."
        exit 1
    fi
}

# ë„ì›€ë§ í‘œì‹œ
display_help() {
    if [ "$1" == "--help" ] || [ "$1" == "-h" ]; then 
        echo "ğŸ’¡ nest moduleì˜ êµ¬ì„±ìš”ì†Œë¥¼ ì¼ê´„ì ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.
        1. nest moduleë¥¼ ìƒì„±í•  ìœ„ì¹˜ë¡œ ê²½ë¡œ(path)ë¥¼ ì´ë™í•˜ì„¸ìš”.
        2. ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” ì¸ìë¥¼ í•˜ë‚˜ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.
        3. ì „ë‹¬ë˜ëŠ” ì¸ìëŠ” nest cliì— ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ëª¨ë‘ ì†Œë¬¸ìë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë©°, ë„ì–´ì“°ê¸°ëŠ” í•˜ì´í”ˆ(-)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
        ex) \`sh './create-module.sh' user\`
        "
        exit 1
    fi
}

# ìŠ¬ë˜ì‹œ í™•ì¸
check_slash_in_argument() {
    for arg in "$@"; do
        if [[ "$arg" == *"/"* ]]; then
            echo "ì¸ìì— '/'ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤."
            exit 1
        fi
    done
}

# user-team -> UserItem
to_upper_camel() {
  uppercase() {
    echo "$1" | awk '{print toupper(substr($0, 1, 1)) tolower(substr($0, 2))}'
  } 
  # ë¬¸ìì—´ì„ '-'ë¡œ ë¶„í• í•˜ì—¬ ë°°ì—´ë¡œ ë§Œë“¤ê¸°
  IFS='-' read -ra words <<< "$1"

  # ê° ë‹¨ì–´ì˜ ì²« ê¸€ìë¥¼ ëŒ€ë¬¸ìë¡œ ë³€í™˜
  for ((i=0; i<${#words[@]}; i++)); do
    words[i]=$(uppercase "${words[i]}")
  done

  # ë°°ì—´ì˜ ë‹¨ì–´ë“¤ì„ ì´ì–´ë¶™ì—¬ì„œ ì¹´ë©œ ì¼€ì´ìŠ¤ë¡œ ë§Œë“¤ê¸°
  camel_case=$(IFS=''; echo "${words[*]}")

  echo "$camel_case"
}